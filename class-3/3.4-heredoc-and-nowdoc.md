---
layout: default
title: "3.4 Heredoc and Nowdoc"
published: true
---

# 3.4 Heredoc and Nowdoc

In this video, we cover heredoc and nowdoc syntax for multi-line strings. They are useful for blocks of text, templates, and messages that span multiple lines.

The names heredoc and nowdoc are derived from the computing term "here document" (or here-document/heretext), a form of input stream literal that originated in Unix shells and other programming languages like Perl.

## Heredoc Basics

The term "here document" is used because the entire block of text is right "here" within the source code file itself, rather than being stored in a separate, external file. It allows developers to embed multi-line strings, such as HTML or SQL queries, conveniently in the code without extensive escaping of quotes and other special characters.

A heredoc starts with `<<<` and an identifier, then ends when the identifier appears by itself on a line.

```php
<?php
$message = <<<TEXT
Hello, world.
This is a heredoc string.
TEXT;
?>
```

Heredoc behaves like a double-quoted string. It supports escape sequences and variable interpolation.

```php
<?php
$color = "Purple";
$animal = "Cow";
$message = <<<TEXT
I never saw a $color $animal,
I hope to never see one,
But I can tell you, anyhow,\nI’d rather see than be one!
TEXT;
print $message . PHP_EOL;
// I never saw a Purple Cow,
// I hope to never see one,
// But I can tell you, anyhow,
// I’d rather see than be one!
// (poem by Gelett Burgess, https://poets.org/poem/purple-cow)
?>
```

## Nowdoc Basics

A nowdoc is similar, but the identifier is wrapped in single quotes. This makes it behave like a single-quoted string. The term "nowdoc" is a play on "heredoc," where "now" likely refers to "no" parsing or interpolation (as in, "no variable expansion"). It might help you to remember that the term "nowdoc" behaves like a single-quoted string because "now" has a single vowel while "here" has two and behaves like a double-quoted string.

```php
<?php
$color = "Purple";
$animal = "Cow";
$message = <<<'TEXT'
I never saw a $color $animal,
I hope to never see one,
But I can tell you, anyhow,\nI’d rather see than be one!
TEXT;
print $message . PHP_EOL;
// I never saw a $color $animal,
// I hope to never see one,
// But I can tell you, anyhow,\nI’d rather see than be one!
?>
```

In a nowdoc, variables are not interpolated, and escape sequences are not processed. Everything is treated literally.

## Indentation Rules

The closing identifier must appear on its own line. Traditionally, it must
start at the beginning of the line with no indentation.

PHP 7.3 added flexible heredoc and nowdoc syntax, which allows indentation
as long as the closing identifier is indented consistently and the content
is indented at least as much. In this case, the leading whitespace is removed
from each line of the content.

```php
<?php
$text = <<<TEXT
   Line one
   Line two
   TEXT;
print $text . PHP_EOL;
// Line one
// Line two
?>
```

If you use indentation with the flexible syntax, keep it consistent and
avoid mixing tabs and spaces.

## When to Use Them

Use heredoc when you want interpolation and escape sequences in multi-line
strings. Use nowdoc when you want literal text with no parsing.
