---
layout: default
title: "3.9 Multibyte String Functions"
published: true
---

# 3.9 Multibyte String Functions

In this video, we introduce the `mb_*` string functions for working with multibyte text like accented characters and emoji. These functions count characters rather than bytes.

## Why mb_* Functions Matter

Many standard string functions in PHP operate on bytes. For ASCII text, that works well. For multibyte text, the results can be incorrect.

```php
<?php
$text = "café";

echo strlen($text) . PHP_EOL;   // 5 bytes in UTF-8
?>
```

The `mb_*` functions handle multibyte characters properly.

```php
<?php
$text = "café";

echo mb_strlen($text) . PHP_EOL; // 4 characters
?>
```

## Common mb_* Helpers

Here are a few common multibyte functions to know:

- `mb_strlen` for length
- `mb_substr` for slicing
- `mb_strpos` for searching
- `mb_strtolower` and `mb_strtoupper` for case conversion

```php
<?php
$text = "naïve";

$firstTwo = mb_substr($text, 0, 2);
$pos = mb_strpos($text, "ï");
$upper = mb_strtoupper($text);
echo $firstTwo . PHP_EOL; // na
echo $pos . PHP_EOL;      // 2
echo $upper . PHP_EOL;    // NAÏVE
?>
```

## Encoding Parameter

Most `mb_*` functions accept an encoding argument. UTF-8 is the common choice in this course.

```php
<?php
$text = "こんにちは";

echo mb_strlen($text, "UTF-8") . PHP_EOL;
?>
```

Make sure the `mbstring` extension is enabled in your PHP installation.
